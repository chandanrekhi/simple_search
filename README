SimpleSearch
============

SimpleSearch is a Ruby on Rails plugin.

From time to time, I need to build pages to show a list of narrowed down records from a database table by giving 
some searching criteria on some columns of the table and/or of some referencing tables (not full-text searching). 
I get the search criteria from the params hash individually in controller and put them into instance variables 
to be used in views. After getting the search criteria, I build the SQL where clause and sometimes the join clause.

After having used this pattern a few times, I realized I could DRY it to make future coding of this kind of searching
much simpler. That's where the SimpleSearch plugin comes from.


Example
=======

Code in model (app/model/search.rb):

      class Search < SimpleSearch::Base
      end

Code in controller:

      @search = Search.new(User, params[:search])
      @users = @search.run()

Code in views:

     <% form_for @search do |f| %>
       <%=f.label :first_name %>
       <%=f.text_field :first_name %>
       
       <%=f.label :last_name%>
       <%=f.text_field :last_name %>

       <%=f.label :login%>
       <%=f.text_field :login%>

       <%=f.label :state%>
       <%=f.text_field "address.state" %>  <!-- address is an association of model User -->

       <%=f.label :post%>
       <%=f.text_field "posts.title" %>   <!-- posts is an association of model User -->

       <%=f.submit %>
     <% end %>

     <% @users.each do |user| %>
      <%= # show the attributes of user %>
     <% end %>



Copyright (c) 2010 [Yi Zhang], released under the MIT license
